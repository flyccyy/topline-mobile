(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53a6ecf7"],{"9ed6":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap"},[r("van-nav-bar",{attrs:{title:"登录"}}),r("van-cell-group",[r("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"mobile",clearable:"",label:"手机号",placeholder:"请输入手机号","error-message":e.errors.first("mobile")},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),r("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"验证码",placeholder:"请输入验证码",name:"code","error-message":e.errors.first("code")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),r("div",{staticClass:"login-btn"},[r("van-button",{attrs:{type:"info",size:"large",loading:e.isLoading,"loading-text":"...登录中"},on:{click:e.login}},[e._v("登录")])],1)],1)},a=[],o=(r("96cf"),r("3b8d")),i=r("c24f"),c=(r("55c8"),{data:function(){return{mobile:"18888888888",code:"246810",isLoading:!1}},methods:{setMyRule:function(){var e={custom:{mobile:{required:"请输入手机号"},code:{required:"请输入验证码"}}};this.$validator.localize("zh_CN",e)},login:function(){var e=this;this.$validator.validate().then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=4;break}console.log("验证失败"),t.next=20;break;case 4:return e.isLoading=!0,t.prev=5,t.next=8,Object(i["d"])({mobile:e.mobile,code:e.code});case 8:n=t.sent,e.$store.commit("setUser",n),e.isLoading=!1,e.$router.back("/home"),console.log(n),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](5),e.$toast.fail("登录失败"),e.isLoading=!1,console.log("出错");case 20:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}())}},mounted:function(){this.setMyRule()}}),l=c,u=(r("dff1"),r("2877")),s=Object(u["a"])(l,n,a,!1,null,"01d63b66",null);t["default"]=s.exports},c24f:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return l}));var n=r("b775");function a(e){var t=e.mobile,r=e.code;return Object(n["a"])({url:"v1_0/authorizations",method:"POST",data:{mobile:t,code:r}})}function o(e){return Object(n["a"])({url:"v1_0/user/followings",method:"POST",data:{target:e}})}function i(e){return Object(n["a"])({url:"v1_0/user/followings/"+e,method:"DELETE"})}function c(){return Object(n["a"])({url:"v1_0/user/profile",method:"GET"})}function l(e){var t=new FormData;return t.append("photo",e),Object(n["a"])({url:"v1_0/user/photo",method:"PATCH",data:t})}},d751:function(e,t,r){},dff1:function(e,t,r){"use strict";var n=r("d751"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-53a6ecf7.5f64be1a.js.map