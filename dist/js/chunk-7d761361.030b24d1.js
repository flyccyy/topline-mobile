(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d761361"],{"4be0":function(t,e,n){"use strict";var i=n("8556"),o=n.n(i);o.a},8556:function(t,e,n){},a8ab:function(t,e,n){"use strict";var i=n("b928"),o=n.n(i);o.a},b928:function(t,e,n){},c24f:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return c}));var i=n("b775");function o(t){var e=t.mobile,n=t.code;return Object(i["a"])({url:"v1_0/authorizations",method:"POST",data:{mobile:e,code:n}})}function a(t){return Object(i["a"])({url:"v1_0/user/followings",method:"POST",data:{target:t}})}function r(t){return Object(i["a"])({url:"v1_0/user/followings/"+t,method:"DELETE"})}function l(){return Object(i["a"])({url:"v1_0/user/profile",method:"GET"})}function c(t){var e=new FormData;return e.append("photo",t),Object(i["a"])({url:"v1_0/user/photo",method:"PATCH",data:e})}},fee5:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"person"},[n("van-nav-bar",{attrs:{title:"个人信息","left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.back()}}},[n("template",{slot:"right"},[n("div",{staticClass:"save",on:{"click-right":t.save}},[t._v("保存")])])],2),n("van-cell-group",[n("van-cell",{attrs:{title:"头像","is-link":""}},[n("template",{slot:"default"},[n("div",{on:{click:t.editphoto}},[n("img",{attrs:{src:t.profileObj.photo,alt:"",width:"30",height:"30"}})])])],2),n("van-cell",{attrs:{title:"昵称",value:t.profileObj.name,"is-link":""},on:{click:t.editnickname}}),n("van-cell",{attrs:{title:"介绍","is-link":""}}),n("van-cell",{attrs:{title:"性别",value:0===t.profileObj.gender?"男":"女","is-link":""}}),n("van-cell",{attrs:{title:"生日",value:t.profileObj.birthday,"is-link":""}})],1),n("upfile",{on:{changeImg:t.changeImg},model:{value:t.upfileShow,callback:function(e){t.upfileShow=e},expression:"upfileShow"}}),n("van-popup",{style:{height:"20%"},attrs:{position:"bottom"},model:{value:t.nicknameShow,callback:function(e){t.nicknameShow=e},expression:"nicknameShow"}},[n("van-cell",[n("template",{slot:"title"},[n("h3",[t._v("设置用户昵称")]),n("van-field",{staticClass:"nicknameField",model:{value:t.profileObj.name,callback:function(e){t.$set(t.profileObj,"name",e)},expression:"profileObj.name"}})],1)],2)],1)],1)},o=[],a=(n("96cf"),n("3b8d")),r=n("c24f"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-dialog",{attrs:{value:t.value,showConfirmButton:!1},on:{input:function(e){return t.$emit("input",e)}}},[n("van-cell-group",[n("van-cell",{attrs:{title:"从相册中选择","is-link":""},on:{click:t.upphoto}},[n("template",{slot:"label"},[n("div",{staticClass:"inputfile"},[n("input",{ref:"upfile",attrs:{type:"file"},on:{change:t.editphoto}})])])],2),n("van-cell",{attrs:{title:"拍照","is-link":""}}),n("van-cell",{attrs:{title:"取消"},on:{click:function(e){return t.$emit("input",!1)}}})],1)],1)],1)},c=[],u=n("28a2"),s={props:["value"],data:function(){return{imgObj:{}}},methods:{upphoto:function(){this.$refs.upfile.click()},editphoto:function(){var t=this.$refs.upfile.files[0],e=new FileReader;e.addEventListener("load",(function(e){Object(u["a"])({images:[e.target.result],startPosition:1,onClose:function(){var e=this;this.$dialog.confirm({title:"注意",message:"是否将此图片设置为你的头像？"}).then(Object(a["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(r["e"])(t);case 2:i=n.sent,console.log(i),e.$emit("changeImg",i);case 5:case"end":return n.stop()}}),n)})))).catch((function(){}))}})})),e.readAsDataURL(t),this.$emit("input",!1),console.log(t)}}},f=s,p=(n("a8ab"),n("2877")),h=Object(p["a"])(f,l,c,!1,null,null,null),d=h.exports,v={components:{upfile:d},data:function(){return{profileObj:{},nicknameShow:!1,upfileShow:!1}},methods:{save:function(){},editnickname:function(){this.nicknameShow=!0},editphoto:function(){this.upfileShow=!0},changeImg:function(t){this.profileObj.photo=t.photo}},mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["b"])();case 2:e=t.sent,console.log(e),this.profileObj=e,console.log("----------");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},m=v,b=(n("4be0"),Object(p["a"])(m,i,o,!1,null,"ef249244",null));e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-7d761361.030b24d1.js.map